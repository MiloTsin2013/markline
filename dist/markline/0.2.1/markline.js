define("markline/0.2.1/markline",["jquery/2.1.1/jquery"],function(t,e,a){function r(t,e){this.element=t;var a=i(e);this.timeline=new o(this.element,a.title,a.data)}function n(t){if(!t)return new Date;var e=/^(\d{4})(?:[/-](\d{1,2})(?:[/-](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2}))?)?)?)?)?$/,a=t.match(e);if(a){var r=a[1],n=a[2]||0,s=a[3]||1,l=a[4]||0,i=a[5]||0,o=a[6]||0;return new Date(r,n,s,l,i,o)}}function s(t){var e=/^\d{4}$/,a=/^\d{4}[\/\-]\d{1,2}$/,r=n(t);return e.test(t)?r.setYear(r.getFullYear()+1):a.test(t)&&(11===r.getMonth()?(r.setYear(r.getFullYear()+1),r.setMonth(0)):r.setMonth(r.getMonth()+1)),r}function l(t){var e=/!\[([^\]]*)\]\(([^\)]+)\)/g,a=/\[([^\]]*)\]\(([^\)]+)\)/g,r=/(\*\*|__)(.*?)\1/g,n=/(\*|_)(.*?)\1/g,s=/(\~\~?)(.*?)\1/g,l=t.replace(e,'<a href="$2" class="img" title="$1" target="_blank">$1</a>');return l=l.replace(a,'<a href="$2" target="_blank">$1</a>'),l=l.replace(r,"<strong>$2</strong>"),l=l.replace(n,"<em>$2</em>"),l=l.replace(s,"<del>$2</del>")}function i(t){function e(t){for(;i.data.hasOwnProperty(t);)t+=" ";f=t,i.data[f]=[],v=!0}for(var a,r=t.split(/\r\n|\r|\n/),i={title:"",meta:{},data:{}},o=/^#\s+(.*)$/,d=/^[\-\*]\s+([^:]+):\s*(.*)$/,h=/^\-{2,}$/,p=/^##+\s+(.*)$/,u=/^[\*\-]\s+(([0-9\/\-]+)(?:~([0-9\/\-]*))?)\s+(.*)$/,c=/^\s+[\*\-]\s+(([0-9\/\-]+)(?:~([0-9\/\-]*))?)\s+(.*)$/,f="",v=!1,m=!1,g=0,y=r.length;y>g;g++){var $,_=r[g];if($=_.match(o))i.title=$[1];else if(!v&&($=_.match(d))){var j=$[1],b=$[2];i.meta[j]=b,m=!0}else if(_.match(h))e("");else if($=_.match(p)){var q=$[1];e(q)}else if($=_.match(u)){i.data[f]||(i.data[f]=[]);var w=$[2],k=void 0===$[3]?w:$[3],x=$[4],Y={date:$[1],"date-start":n(w),"date-end":s(k),name:l(x),events:[]};i.data[f].push(Y),a=Y,v=!0}else if($=_.match(c)){var F=$[1],M=$[2],D=void 0===$[3]?M:$[3],O=$[4];a.events.push({date:F,"date-start":n(M),"date-end":s(D),name:l(O)}),v=!0}}return i}{var o=t("markline/0.2.1/timeline");t("jquery/2.1.1/jquery")}r.prototype.render=function(){this.timeline.render()},a.exports=r}),define("markline/0.2.1/timeline",["jquery/2.1.1/jquery"],function(t,e,a){function r(t,e,a){this._element=l(t),this.title=e,this._data=a}function n(t){return parseInt(t/864e5*o/365.24,10)}function s(t){return"[object Function]"===Object.prototype.toString.call(t)}var l=t("jquery/2.1.1/jquery"),i=30,o=100;r.prototype._process=function(t,e){if(e)for(var a in t)if(t.hasOwnProperty(a)){var r=t[a];s(e["group:start"])&&e["group:start"].call(this,a,r);for(var n=0,l=r.length;l>n;n++){var i=r[n];if(s(e["line:start"])&&e["line:start"].call(this,i),i.events)for(var o=0,d=i.events.length;d>o;o++)s(e.event)&&e.event.call(this,i.events[o]);s(e["line:stop"])&&e["line:stop"].call(this,i)}s(e["group:stop"])&&e["group:stop"].call(this,a,r)}},r.prototype.render=function(){var t,e;this._process(this._data,{"line:start":function(a){var r=a["date-start"],n=a["date-end"];(!t||t>r)&&(t=r),(!e||n>e)&&(e=n)}});var a=t.getFullYear(),r=e.getFullYear()+2;t=new Date(a,0,1);for(var s=['<div class="dates">',"<ol>"],o=a;r>=o;o++)s.push("<li><label>",o,"</label></li>");s.push("</ol>","</div>");var d=['<div class="events" id="events">'],h=0;this._process(this._data,{"group:start":function(t){d.push('<div class="groups">',"<label>",t,"</label>","<ol>")},"group:stop":function(){d.push("</ol>","</div>")},"line:start":function(e){var a=e["date-start"],r=e["date-end"],s=n(a-t)+i;h=a;var l=n(r-a);8>l&&(l=8),d.push('<li style="left:',s,'px;">','<ol style="width:',l,'px;">')},"line:stop":function(t){d.push("</ol>","<time>",t.date,"</time>","<label>",t.name,"</label>","</li>")},event:function(t){var e=n(t["date-start"]-h),a=n(t["date-end"]-t["date-start"]);8>a&&(a=8),d.push('<li style="left:',e,"px;width:",a,'px" title="',t.date," ",t.name,'"></li>')}});this._element.addClass("markline"),this._element.on("scroll",function(){var t=l(this),e=l("> header",this);e.css({left:t.scrollLeft(),bottom:-t.scrollTop()});var a=l(".dates",this);a.css({top:t.scrollTop()});var r=l(".groups > label",this);r.css({left:t.scrollLeft()-90})}),this._element.append(["<header>",this.title,"</header>"].join("")),this._element.append(s.join("")),this._element.append(d.join(""))},a.exports=r});