define("markline/0.6.0/markline",["jquery/2.1.1/jquery"],function(t,e,n){function a(t){return"[object String]"===Object.prototype.toString.call(t)}function r(t,e){this.element=t;var n=l(e);this.timeline=new c(this.element,n)}function o(t){if(!t)return new Date;var e=/^(\d{4})(?:[/-](\d{1,2})(?:[/-](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2}))?)?)?)?)?$/,n=t.match(e);if(n){var a=n[1],r=parseInt(n[2]||1,10)-1,o=n[3]||1,i=n[4]||0,s=n[5]||0,l=n[6]||0;return new Date(a,r,o,i,s,l)}}function i(t){var e=/^\d{4}$/,n=/^\d{4}[\/\-]\d{1,2}$/,a=o(t);return e.test(t)?a.setYear(a.getFullYear()+1):n.test(t)&&(11===a.getMonth()?(a.setYear(a.getFullYear()+1),a.setMonth(0)):a.setMonth(a.getMonth()+1)),a}function s(t,e){var n=/!\[([^\]]*)\]\(([^\)]+)\)/g,a=/\[([^\]]*)\]\(([^\)]+)\)/g,r=/(\*\*|__)(.*?)\1/g,o=/(\*|_)(.*?)\1/g,i=/(\~\~?)(.*?)\1/g,s=/(^|[^a-zA-Z0-9])@([^\s\t,\(\)\[\]\{\}]+)/g,l=/\{@mention\}/gi,c=/(?:^|[\s\t])\#([^\s\t]+)/g,h=t.replace(n,'<a href="$2" class="img" title="$1" target="_blank">$1</a>');return h=h.replace(a,'<a href="$2" target="_blank">$1</a>'),h=h.replace(r,"<strong>$2</strong>"),h=h.replace(o,"<em>$2</em>"),h=h.replace(i,"<del>$2</del>"),e.mention&&(h=h.replace(s,function(t,n,a){var r=e.mention||d;return n+'<a href="'+r.replace(l,a)+'" target="_blank">@'+a+"</a>"})),h=h.replace(c,function(t,n){var a,r=e.tags||e.tag||{};if(r.hasOwnProperty(n)){var o=(r[n]||"").split(/,[\s\t]+/),i=o[0],s=o[1];a=' style="color:'+i+";background-color:"+s+';"'}return'<span class="tags"'+a+">#"+n+"</span>"})}function l(t){function e(t){for(;d.body.hasOwnProperty(t);)t+=" ";y=s(t,d.meta),d.body[y]=[],b=!0}for(var n,r,l,c=t.split(/\r\n|\r|\n/),d={title:"",meta:{},body:{}},h=/^#\s+(.*)$/,p=/^[\-\*]\s+([^:]+):\s*(.*)$/,u=/^[\s\t]+[\-\*]\s+([^:]+):\s*(.*)$/,f=/^\-{2,}$/,m=/^##+\s+(.*)$/,v=/^[\*\-]\s+(([0-9\/\-]+)(?:~([0-9\/\-]*))?)\s+(.*)$/,g=/^\s+[\*\-]\s+(([0-9\/\-]+)(?:~([0-9\/\-]*))?)\s+(.*)$/,y="",b=!1,$=!1,_=0,j=c.length;j>_;_++){var k,w=c[_];if(k=w.match(h))d.title=s(k[1],d.meta);else if(!b&&(k=w.match(p))){var x=k[1],T=k[2];d.meta[x]=T,r=x,l=T,$=!0}else if(!b&&(k=w.match(u))){a(d.meta[r])&&(d.meta[r]={"default":l});var x=k[1],T=k[2];d.meta[r][x]=T,$=!0}else if(w.match(f))e("");else if(k=w.match(m)){var Y=k[1];e(Y)}else if(k=w.match(v)){d.body[y]||(d.body[y]=[]);var q=k[2],F=void 0===k[3]?q:k[3],M=k[4],O={date:k[1],"date-start":o(q),"date-end":i(F),name:s(M,d.meta),events:[]};d.body[y].push(O),n=O,b=!0}else if(k=w.match(g)){var D=k[1],L=k[2],P=void 0===k[3]?L:k[3],S=k[4];n.events.push({date:D,"date-start":o(L),"date-end":i(P),name:s(S,d.meta)}),b=!0}}return d}var c=t("markline/0.6.0/timeline"),d="https://github.com/{@mention}";r.prototype.render=function(){this.timeline.render()},n.exports=r}),define("markline/0.6.0/timeline",["jquery/2.1.1/jquery"],function(t,e,n){function a(t,e){this._element=i(t),this.title=e.title||"",this.meta=e.meta||{},this.body=e.body||{}}function r(t){return parseInt(t/864e5*l/365.24,10)}function o(t){return"[object Function]"===Object.prototype.toString.call(t)}var i=t("jquery/2.1.1/jquery"),s=30,l=100;a.prototype._process=function(t,e){if(e)for(var n in t)if(t.hasOwnProperty(n)){var a=t[n];o(e["group:start"])&&e["group:start"].call(this,n,a);for(var r=0,i=a.length;i>r;r++){var s=a[r];if(o(e["line:start"])&&e["line:start"].call(this,s),s.events)for(var l=0,c=s.events.length;c>l;l++)o(e.event)&&e.event.call(this,s.events[l]);o(e["line:stop"])&&e["line:stop"].call(this,s)}o(e["group:stop"])&&e["group:stop"].call(this,n,a)}},a.prototype.render=function(){function t(t){t.preventDefault();var e=m.x+(f.x-t.clientX),n=m.y+(f.y-t.clientY);u.body.scrollLeft(e),u.body.scrollTop(n)}var e,n;this._process(this.body,{"line:start":function(t){var a=t["date-start"],r=t["date-end"];(!e||e>a)&&(e=a),(!n||r>n)&&(n=r)}});var a=e.getFullYear(),o=n.getFullYear()+2;e=new Date(a,0,1);for(var l=['<div class="dates">',"<ol>"],c=a,d=0;o>=c;c++,d++)l.push("<li><label>",c,"show"===this.meta.age?" ("+d+")":"","</label></li>");l.push("</ol>","</div>");var h=['<div class="events" id="events">'],p=0;this._process(this.body,{"group:start":function(t){h.push('<div class="groups">',"<label>",t,"</label>","<ol>")},"group:stop":function(){h.push("</ol>","</div>")},"line:start":function(t){var n=t["date-start"],a=t["date-end"],o=r(n-e)+s;p=n;var i=r(a-n);8>i&&(i=8),h.push('<li style="margin-left:',o,'px;">',"<div>",'<ol style="width:',i,'px;">')},"line:stop":function(t){h.push("</ol>","<time>",t.date,"</time>","<label>",t.name,"</label>","</div>","</li>")},event:function(t){var e=r(t["date-start"]-p),n=r(t["date-end"]-t["date-start"]);8>n&&(n=8,e-=4),h.push('<li style="left:',e,"px;width:",n,'px" title="',t.date," ",t.name,'"></li>')}});var u=this;this._element.addClass("markline"),this.title=i(["<header>",this.title,"</header>"].join("")).appendTo(this._element),this.footer=i(['<footer><a class="forkme" href="https://github.com/hotoo/markline" target="_blank">Markline</a></footer>'].join("")).appendTo(this._element),this.container=i("<section></section>").appendTo(this._element),this.header=i(l.join("")).appendTo(this.container),this.body=i(h.join("")).appendTo(this.container),this.body.on("scroll",function(){var t=i(this);u.header.css({left:-u.body.scrollLeft()});var e=i(".groups > label",u._element);e.css({left:t.scrollLeft()-90})});var f,m;this.container.on("mousedown",function(e){f={x:e.clientX,y:e.clientY},m={x:u.body.scrollLeft(),y:u.body.scrollTop()},u.container.on("mousemove",t)}),this.container.on("mouseup",function(){u.container.off("mousemove",t)})},n.exports=a});